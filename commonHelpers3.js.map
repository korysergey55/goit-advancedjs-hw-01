{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst formRef = document.querySelector('.feedback-form')\nconst LS_KEY = \"feedback-form-state\"\nlet LS_FORM_VALUE = {}\n\nconst storageValue = JSON.parse(localStorage.getItem(LS_KEY))\n\nif (storageValue) {\n  formRef.email.value = storageValue.email\n  formRef.message.value = storageValue.message\n}\n\nformRef.addEventListener('change', throttle((evt) => {\n  // const { email, message } = evt.currentTarget.elements\n  // LS_FORM_VALUE = {\n  //   email: email.value,\n  //   message: message.value\n  // }\n\n  const formData = new FormData(evt.currentTarget)\n  formData.forEach((value, key) => {\n    LS_FORM_VALUE[key] = value\n  })\n\n  localStorage.setItem(LS_KEY, JSON.stringify(LS_FORM_VALUE))\n\n}), 500)\n\nformRef.addEventListener('submit', (evt) => {\n  evt.preventDefault()\n  localStorage.removeItem(LS_KEY)\n  formRef.reset()\n})\n\n\n"],"names":["formRef","LS_KEY","LS_FORM_VALUE","storageValue","throttle","evt","value","key"],"mappings":"mIAEA,MAAMA,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAS,sBACf,IAAIC,EAAgB,CAAE,EAEtB,MAAMC,EAAe,KAAK,MAAM,aAAa,QAAQF,CAAM,CAAC,EAExDE,IACFH,EAAQ,MAAM,MAAQG,EAAa,MACnCH,EAAQ,QAAQ,MAAQG,EAAa,SAGvCH,EAAQ,iBAAiB,SAAUI,EAAUC,GAAQ,CAOlC,IAAI,SAASA,EAAI,aAAa,EACtC,QAAQ,CAACC,EAAOC,IAAQ,CAC/BL,EAAcK,GAAOD,CACzB,CAAG,EAED,aAAa,QAAQL,EAAQ,KAAK,UAAUC,CAAa,CAAC,CAE5D,CAAC,EAAG,GAAG,EAEPF,EAAQ,iBAAiB,SAAWK,GAAQ,CAC1CA,EAAI,eAAgB,EACpB,aAAa,WAAWJ,CAAM,EAC9BD,EAAQ,MAAO,CACjB,CAAC"}