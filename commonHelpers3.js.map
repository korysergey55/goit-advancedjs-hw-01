{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst formRef = document.querySelector('.feedback-form')\nconst LS_KEY = \"feedback-form-state\"\nlet LS_FORM_VALUE = {}\n\nconst storageValue = JSON.parse(localStorage.getItem(LS_KEY))\n\nif (storageValue) {\n  formRef.email.value = storageValue.email\n  formRef.message.value = storageValue.message\n}\n\nformRef.addEventListener('change', (evt) => {\n  const { email, message } = evt.currentTarget.elements\n\n  LS_FORM_VALUE = {\n    email: email.value,\n    message: message.value\n  }\n  // localStorage.setItem(LS_KEY, JSON.stringify(LS_FORM_VALUE))\n  throttle(() => {\n    localStorage.setItem(LS_KEY, JSON.stringify(LS_FORM_VALUE))\n  }, 500)\n})\n\nformRef.addEventListener('submit', (evt) => {\n  evt.preventDefault()\n  localStorage.removeItem(LS_KEY)\n  formRef.reset()\n})\n\n\n"],"names":["formRef","LS_KEY","LS_FORM_VALUE","storageValue","evt","email","message","throttle"],"mappings":"wIAEA,MAAMA,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAS,sBACf,IAAIC,EAAgB,CAAE,EAEtB,MAAMC,EAAe,KAAK,MAAM,aAAa,QAAQF,CAAM,CAAC,EAExDE,IACFH,EAAQ,MAAM,MAAQG,EAAa,MACnCH,EAAQ,QAAQ,MAAQG,EAAa,SAGvCH,EAAQ,iBAAiB,SAAWI,GAAQ,CAC1C,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAS,EAAGF,EAAI,cAAc,SAE7CF,EAAgB,CACd,MAAOG,EAAM,MACb,QAASC,EAAQ,KAClB,EAEDC,EAAS,IAAM,CACb,aAAa,QAAQN,EAAQ,KAAK,UAAUC,CAAa,CAAC,CAC3D,EAAE,GAAG,CACR,CAAC,EAEDF,EAAQ,iBAAiB,SAAWI,GAAQ,CAC1CA,EAAI,eAAgB,EACpB,aAAa,WAAWH,CAAM,EAC9BD,EAAQ,MAAO,CACjB,CAAC"}